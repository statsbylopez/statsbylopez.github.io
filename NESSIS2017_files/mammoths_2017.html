<!DOCTYPE html>
<html>
<head>
  <title>How often does the best team win?</title>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="mammoths_2017_files/rmdshower/node_modules/shower-ribbon/styles/screen-16x10.css">
  <link rel="stylesheet" href="mammoths_2017_files/rmdshower/package/styles/screen-16x10.css">
  <link rel="stylesheet" href="mammoths_2017_files/rmdshower/style-common.css">
  <link rel="stylesheet" href="mammoths_2017_files/rmdshower/style-ribbon.css">
  <link rel="stylesheet" href="mammoths_2017_files/rmdshower/style-override.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.js"></script>
  <script src="mammoths_2017_files/rmdshower/auto-render.min.js" type="text/javascript"></script>
  
  
    <style type="text/css">
   div.sourceCode { overflow-x: auto; }
   table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
     margin: 0; padding: 0; vertical-align: baseline; border: none; }
   table.sourceCode { width: 100%; line-height: 100%; }
   td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
   td.sourceCode { padding-left: 5px; }
   code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
   code > span.dt { color: #902000; } /* DataType */
   code > span.dv { color: #40a070; } /* DecVal */
   code > span.bn { color: #40a070; } /* BaseN */
   code > span.fl { color: #40a070; } /* Float */
   code > span.ch { color: #4070a0; } /* Char */
   code > span.st { color: #4070a0; } /* String */
   code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
   code > span.ot { color: #007020; } /* Other */
   code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
   code > span.fu { color: #06287e; } /* Function */
   code > span.er { color: #ff0000; font-weight: bold; } /* Error */
   code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
   code > span.cn { color: #880000; } /* Constant */
   code > span.sc { color: #4070a0; } /* SpecialChar */
   code > span.vs { color: #4070a0; } /* VerbatimString */
   code > span.ss { color: #bb6688; } /* SpecialString */
   code > span.im { } /* Import */
   code > span.va { color: #19177c; } /* Variable */
   code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
   code > span.op { color: #666666; } /* Operator */
   code > span.bu { } /* BuiltIn */
   code > span.ex { } /* Extension */
   code > span.pp { color: #bc7a00; } /* Preprocessor */
   code > span.at { color: #7d9029; } /* Attribute */
   code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
   code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
   code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
   code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
  
  
  
</head>

<body class="shower list">

  <header class="caption">
    <h1>How often does the best team win?</h1>
    <p>Michael Lopez (with Gregory J Matthews and Benjamin Baumer)</p>
  </header>

    
  
<section id="how-often-does-the-best-team-win" class="slide level2">
<h2>How often does the best team win?</h2>
<p><img src="http://www.zontikgames.com/media/catalog/product/cache/1/image/9df78eab33525d08d6e5fb8d27136e95/p/r/primary_4.jpg" width="500px" class="cover"></p>
<p></br></br></br></br></br></p>
<p class="black">
Michael Lopez (with Gregory J Matthews, Benjamin Baumer)</br> <a href="https://github.com/bigfour/competitiveness" class="uri">https://github.com/bigfour/competitiveness</a>
</p>
</section>
<section id="an-anecdote" class="titleslide slide level1"><h2 class="shout">An anecdote</h2></section><section id="what-we-remember" class="slide level2">
<h2>What we remember</h2>
<p><img src="shane.gif" width="700px"></p>
</section><section id="what-we-forget" class="slide level2">
<h2>What we forget</h2>
<p><img src="xander.gif" width="700px"></p>
</section><section id="pitches-in-the-series" class="slide level2">
<h2>Pitches in the series</h2>
<p><img src="mammoths_2017_files/figure-revealjs/strike-zone-1.png" width="576" /></p>
</section><section id="that-pitch" class="slide level2">
<h2>That pitch</h2>
<p><img src="mammoths_2017_files/figure-revealjs/strike-zone-plus-1.png" width="576" /></p>
</section><section id="the-truth-is" class="slide level2">
<h2>The truth is…</h2>
<ul>
<li>About 80% of pitches taken at this location called a strike (using advanced modeling)</li>
<li>Walk worth about 12% in win expectency (<a href="http://www.tangotiger.net/welist.html">32% to 44%</a>)</li>
<li>Red Sox were lucky!</li>
</ul>
</section><section id="what-we-also-forget" class="slide level2">
<h2>What we also forget</h2>
<p><img src="jose.gif" width="700px"></p>
</section><section id="about-that-error" class="slide level2">
<h2>About that error…</h2>
<ul>
<li>Jose Iglesias: 98.5% fielding percentage (<em>Note</em>: Statcast data unavailable)</li>
<li>Error worth about 20% in win expectency over out at second (<a href="http://www.tangotiger.net/welist.html">36% to 56%</a>)</li>
<li>Red Sox were lucky!</li>
</ul>
</section><section id="summary" class="slide level2">
<h2>Summary</h2>
<div class="double">
<ul>
<li class="fragment next">Two huge swings in win probability that were outside the Red Sox control</li>
<li class="fragment next">Red Sox were lucky!</li>
</ul>
<ul>
<li class="fragment next"><img src="max.gif" class="one-col-image"></li>
</ul>
</div>
</section>
<section id="luck-and-parityin-sports" class="titleslide slide level1"><h2 class="shout">Luck and parity</br>in sports</h2></section><section id="using-statistics-to-assess-luck-in-sports" class="slide level2">
<h2>Using statistics to assess luck in sports</h2>
<ul>
<li class="fragment next">The best team does not always win. Sorry, Detroit</li>
</ul>
<ul>
<li class="fragment next">How to untangle luck from skill?</li>
</ul>
<ul>
<li class="fragment next">How often does the best team win in each sport? Luck —&gt; parity</li>
</ul>
</section><section id="how-to-define-parity" class="slide level2">
<h2>How to define parity</h2>
<blockquote>
<p>the state or condition of being equal</p>
</blockquote>
<p><strong>Google</strong></p>
</section><section id="what-parity-looks-like" class="slide level2">
<h2>What parity looks like</h2>
<p><img src="Joe.gif" width="400px"></p>
</section><section id="what-parity-does-not-look-like" class="slide level2">
<h2>What parity does not look like</h2>
<p><img src="kp.gif"></p>
</section><section id="paired-comparison-models" class="slide level2">
<h2>Paired comparison models</h2>
<p>One participant versus another</p>
<ol type="1">
<li>Teams in sport</li>
<li>Individuals in sport</li>
<li>Consumer products in market research</li>
<li>Images in psychology</li>
</ol>
<p>Most common paired comparison model: <strong>Bradley-Terry (BTM)</strong></p>
</section><section id="notation-btm" class="slide level2">
<h2>Notation, BTM</h2>
<p><strong>Goal</strong>: <span class="math inline">\(P(i \text{ beats } j)\)</span> = <span class="math inline">\(p_{ij}\)</span></p>
<p>logit(<span class="math inline">\(p_{ij}\)</span>) = log(<span class="math inline">\(\frac{p_{ij}}{1 - p_{ij}}\)</span>) = <span class="math inline">\(\theta_{i}\)</span> - <span class="math inline">\(\theta_{j}\)</span> + <span class="math inline">\(\alpha\)</span></p>
<ul>
<li>Players (or teams) <span class="math inline">\(i\)</span> and <span class="math inline">\(j\)</span></li>
<li><span class="math inline">\(\theta_{i}\)</span> and <span class="math inline">\(\theta_{j}\)</span> strength parameters of <span class="math inline">\(i\)</span> and <span class="math inline">\(j\)</span></li>
<li><span class="math inline">\(\alpha\)</span> is the league-wide home advantage (HA)</li>
</ul>
</section><section id="example-nescac-mens-basketball-2016-17" class="slide level2">
<h2>Example: NESCAC men’s basketball, 2016-17</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sample_n</span>(nescac.games, <span class="dv">3</span>)</code></pre></div>
<pre><code># A tibble: 3 x 4
      Away AwayScore    Home HomeScore
     &lt;chr&gt;     &lt;int&gt;   &lt;chr&gt;     &lt;int&gt;
1 Hamilton        63   Tufts        81
2 Williams        72   Colby        66
3  Bowdoin        64 Amherst        66</code></pre>
</section><section id="example-nescac-mens-basketball-2016-17-1" class="slide level2">
<h2>Example: NESCAC men’s basketball, 2016-17</h2>
<p><strong>Team strength estimates</strong></p>
<pre><code>          Team theta
1        Colby -2.59
2      Bowdoin -1.67
3  Connecticut -1.63
4        Bates -1.50
5     Hamilton -1.15
6      Amherst  0.00
7     Wesleyan  0.08
8     Williams  0.10
9      Trinity  0.33
10       Tufts  0.51
11  Middlebury  0.74</code></pre>
</section><section id="example-nescac-mens-basketball-2016-17-2" class="slide level2">
<h2>Example: NESCAC men’s basketball, 2016-17</h2>
<p><img src="mammoths_2017_files/figure-revealjs/unnamed-chunk-5-1.png" width="768" /></p>
</section><section id="example-nescac-mens-basketball-2016-17-3" class="slide level2">
<h2>Example: NESCAC men’s basketball, 2016-17</h2>
<p><strong>Home advantage: <span class="math inline">\(\hat{\alpha} = 0.69\)</span></strong></p>
<p><em>Probability of beating a equally talented team at home is about <span class="math inline">\(\frac{e^{\hat{\alpha}}}{1 + e^{\hat{\alpha}}} = \frac{e^{0.69}}{1 + e^{0.69}}\)</span> = 66.5%</em></p>
</section>
<section id="a-cross-sport-professional-model" class="titleslide slide level1"><h2 class="shout">A cross-sport professional model</h2></section><section id="prior-work" class="slide level2">
<h2>Prior work</h2>
<ul>
<li>Extend <a href="http://www.tandfonline.com/doi/abs/10.1080/01621459.1998.10474084">Glickman and Stern, 1998</a></li>
</ul>
<p><img src="glickman.png" width="800px"></p>
</section><section id="challenges" class="slide level2">
<h2>Challenges</h2>
<div class="double">
<ul>
<li class="fragment next">Problem 1: wins and losses alone insufficient (noisy)</li>
<li class="fragment next">Problem 2: point differential non-generalizable</li>
<li class="fragment next">Solution: if you can’t beat em, use their numbers in a statistical model</li>
</ul>
<p><img src="sportsbook.png" class="one-col-image"></p>
</div>
</section><section id="moneylines" class="slide level2">
<h2>Moneylines</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Team</th>
<th style="text-align: center;">Line (<span class="math inline">\(\ell\)</span>)</th>
<th style="text-align: center;">Probability (<span class="math inline">\(p\)</span>)</th>
<th style="text-align: center;">Normalized</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><img src="tigers.jpg" width="125px"></td>
<td style="text-align: center;">-127</td>
<td style="text-align: center;">0.559</td>
<td style="text-align: center;">0.548</td>
</tr>
<tr class="even">
<td style="text-align: left;"><img src="redsox.jpg" width="125px"></td>
<td style="text-align: center;">+117</td>
<td style="text-align: center;">0.461</td>
<td style="text-align: center;">0.452</td>
</tr>
</tbody>
</table>
</hr>
<p><span class="math display">\[
  p_i(\ell_i) = \begin{cases}
        \frac{100}{100 + \ell_i} &amp; \text{ if } \ell_i \geq 100 \\
        \frac{|\ell_i|}{100 + |\ell_i|} &amp; \text{ if } \ell_i \leq -100
      \end{cases} \,.
\]</span></p>
</section><section id="section" class="slide level2 fullpage">
<h2> </h2>
<p><img src="mammoths_2017_files/figure-revealjs/markets-plot-1.png" width="960" /></p>
</section><section id="the-model-definitions" class="slide level2">
<h2>The model: definitions</h2>
<ul>
<li><span class="math inline">\(p_{(q,s,k)ij} =\)</span> probability that team <span class="math inline">\(i\)</span> will beat team <span class="math inline">\(j\)</span> in season <span class="math inline">\(s\)</span> during week <span class="math inline">\(k\)</span> of sports league <span class="math inline">\(q\)</span>, for <span class="math inline">\(q \in \{MLB, NBA, NFL, NHL\}\)</span>.</li>
<li><span class="math inline">\(\alpha_{q_{0}}\)</span> be the league-wide home advantage (HA) in <span class="math inline">\(q\)</span></li>
<li><span class="math inline">\(\alpha_{(q) i^{\star}}\)</span> be the extra effect (+ or -) for team <span class="math inline">\(i\)</span> when playing at home</li>
<li><span class="math inline">\(\theta_{(q,s,k) i}\)</span> and <span class="math inline">\(\theta_{(q, s, k) j}\)</span> be season-week team strength parameters</li>
</ul>
</section><section id="the-model-assumptions" class="slide level2">
<h2>The model &amp; assumptions</h2>
<p><span class="math display">\[ E[\text{logit}(p_{(q,s,k) ij})] = \theta_{(q,s,k) i} - \theta_{(q, s, k) j} + \alpha_{q_0} + \alpha_{(q) i^{\star}} \]</span></p>
<p>Assumptions:</p>
<ol type="1">
<li><span class="math inline">\(\sum_{i=1}^{t_{q}} \theta_{(q,s,k)i} = 0\)</span></li>
<li><span class="math inline">\(E[\theta_{(i,q,s+1,1)}] = \gamma_{q, season} \theta_{(i, q,s,k)}\)</span></li>
<li><span class="math inline">\(E[\theta_{(i,q,s,k+1)}] = \gamma_{q, week} \theta_{(i, q,s,k)}\)</span></li>
<li><span class="math inline">\(\gamma_{q,week}\)</span> and <span class="math inline">\(\gamma_{q,season}\)</span> week/season level autogressive parameters</li>
</ol>
</section><section id="fitting-a-cross-sport-model" class="slide level2">
<h2>Fitting a cross-sport model</h2>
<ul>
<li>Data
<ul>
<li>2006–2016 reg. season in MLB, NBA, NFL, NHL (Sports Insights)</li>
</ul></li>
<li>Priors
<ul>
<li>Uniform (variance parameters) and Normal (team strength parameters)</li>
</ul></li>
<li>Software
<ul>
<li><code>rjags</code> package in <strong>R</strong> statistical software</li>
</ul></li>
<li>Draws
<ul>
<li>20k iterations, 2k burn in, thin of 5</li>
</ul></li>
</ul>
</section>
<section id="results" class="titleslide slide level1"><h2 class="shout">Results</h2></section><section id="section-1" class="slide level2 fullpage">
<h2> </h2>
<p><img src="mammoths_2017_files/figure-revealjs/sox-tigers-1.png" width="960" /></p>
</section><section id="section-2" class="slide level2 fullpage">
<h2> </h2>
<p><img src="mammoths_2017_files/figure-revealjs/sox-tigers-spaghetti-1.png" width="960" /></p>
</section><section id="section-3" class="slide level2 fullpage">
<h2> </h2>
<p><img src="mammoths_2017_files/figure-revealjs/full-spaghetti-1.png" width="960" /></p>
</section><section id="section-4" class="slide level2 fullpage">
<h2> </h2>
<p><img src="mammoths_2017_files/figure-revealjs/season-sigma-1.png" width="960" /></p>
</section><section id="section-5" class="slide level2 fullpage">
<h2> </h2>
<p><img src="mammoths_2017_files/figure-revealjs/week-sigma-1.png" width="960" /></p>
</section><section id="unpredictability-at-a-fixed-point-in-time" class="slide level2">
<h2>Unpredictability at a fixed point in time</h2>
<p>How often does the best team win?</p>
<p><img src="parity.png" style="width:800px; height=300px"></p>
</section><section id="section-6" class="slide level2 fullpage">
<h2> </h2>
<p><img src="mammoths_2017_files/figure-revealjs/home-advantage-1.png" width="960" /></p>
</section><section id="section-7" class="slide level2 fullpage">
<h2> </h2>
<p><img src="mammoths_2017_files/figure-revealjs/home-advantage-nba-1.png" width="960" /></p>
</section>
<section id="who-cares" class="titleslide slide level1"><h2 class="shout">Who cares?</h2></section><section id="gms-need-to-predict-the-future" class="slide level2">
<h2>GMs need to predict the future</h2>
<div class="double">
<p><img src="herm.png" class="one-col-image"></p>
<ul>
<li class="fragment next">Our team strengths are better at predicting future W-L</li>
</ul>
</div>
</section><section id="gms-need-to-strategize" class="slide level2">
<h2>GMs need to strategize</h2>
<div class="double">
<ul>
<li class="fragment next">Patriots rest starters in 2015 against Dolphins</li>
<li class="fragment next">Home advantage matters in 🏈 and 🏀</li>
</ul>
<p><img src="pats_dolphins.jpg" class="one-col-image"></p>
</div>
</section><section id="gms-need-long-term-plans" class="slide level2">
<h2>GMs need long term plans</h2>
<blockquote>
<p>“They have to rethink their whole philosophy”</p>
</blockquote>
<p><strong>Mike Milbury to the 2017 Washington Capitals after a playoff series loss to Pittsburgh</strong></p>
<ul>
<li class="fragment next">There’s an immense amount of luck involved in hockey. Rethinking your philosophy on a postseason series is ludicrous</li>
</ul>
</section><section id="summary-parity-in-sports" class="slide level2">
<h2>Summary: parity in sports</h2>
<ul>
<li class="fragment next">Unpredictability at a fixed time: 🏆 (NHL), ⚾️</li>
<li class="fragment next">Within season unpredictability 🏈</li>
<li class="fragment next">Between season unpredictability 🏆 (NHL)</li>
<li class="fragment next">Largest home advantage 🏀</li>
</ul>
<p>More info: - Paper (<a href="https://arxiv.org/abs/1701.05976" class="uri">https://arxiv.org/abs/1701.05976</a>) - Github (<a href="https://github.com/bigfour/competitiveness" class="uri">https://github.com/bigfour/competitiveness</a>)</p>
</section>

  <!--
  To hide progress bar from entire presentation
  just remove “progress” element.
  -->
  <!-- <div class="progress"></div> -->
  <script src="mammoths_2017_files/rmdshower/node_modules/shower/node_modules/shower-core/shower.min.js"></script>
  <!-- Copyright © 2015 Yours Truly, Famous Inc. -->
  <!-- Photos by John Carey, fiftyfootshadows.net -->

    <script>renderMathInElement(document.body);</script>
  
  
</body>
</html>
